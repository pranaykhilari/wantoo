!function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var o={};return t.m=e,t.c=o,t.p="/static/bundles/",t(0)}({0:function(e,t,o){(function(e,t,n,$){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=o(158),r=o(431),c=a(r);!function(e,o,a,r,s){function l(t){var n="/api/v1/"+o.userInfo.company+"/ideas/"+o.userInfo.ideaID+"/comments/"+t+"/";e.ajax({method:"DELETE",url:n}).done(function(e){N()})}function d(t){var o=t.find("input, textarea");e.each(o,function(t,o){if(void 0!==e(o).attr("maxlength")){var n=o.id+"_counter",a=e(o).attr("maxlength"),i=a-e(o).val().length;e('<p class="-stupid-counter '+n+'">'+i+"</p>").insertBefore(o),e(o).on("keyup",function(){i=a-e(this).val().length,e(this).prev().text(i)})}})}function u(t,n){var a="/api/v1/"+o.userInfo.company+"/ideas/"+t+"/";e.ajax({method:"PUT",url:a,data:{description:n}}).done(function(e){o.location.reload()})}function m(t,n){var a;n?(a="/api/v1/"+o.userInfo.company+"/ideas/"+t+"/votes/",e.ajax({method:"POST",url:a}).done(function(e){})):(a="/api/v1/"+o.userInfo.company+"/ideas/"+t+"/votes/",e.ajax({method:"DELETE",url:a}).done(function(e){}))}function f(t,n){if(""!=z.text){var a="/api/v1/"+o.userInfo.company+"/ideas/";e.ajax({method:"POST",url:a,data:{title:t,category:n}}).done(function(e){o.location="/"+o.userInfo.company+"/ideas/?sort=new",localStorage.removeItem("ideaInfo")})}else o.location="/"+o.userInfo.company}function p(e){var o=null;if(a.cookie&&""!==a.cookie)for(var n=a.cookie.split(";"),i=0;i<n.length;i++){var r=t.trim(n[i]);if(r.substring(0,e.length+1)===e+"="){o=decodeURIComponent(r.substring(e.length+1));break}}return o}function h(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function v(e){var t=a.createElement("textarea");return t.innerHTML=e,t.value}function g(e,t){return t=t||80,"http://www.gravatar.com/avatar/"+function(e){function t(e,t){return e<<t|e>>>32-t}function o(e,t){var o,n,a,i,r;return a=2147483648&e,i=2147483648&t,o=1073741824&e,n=1073741824&t,r=(1073741823&e)+(1073741823&t),o&n?2147483648^r^a^i:o|n?1073741824&r?3221225472^r^a^i:1073741824^r^a^i:r^a^i}function n(e,t,o){return e&t|~e&o}function a(e,t,o){return e&o|t&~o}function i(e,t,o){return e^t^o}function r(e,t,o){return t^(e|~o)}function c(e,a,i,r,c,s,l){return e=o(e,o(o(n(a,i,r),c),l)),o(t(e,s),a)}function s(e,n,i,r,c,s,l){return e=o(e,o(o(a(n,i,r),c),l)),o(t(e,s),n)}function l(e,n,a,r,c,s,l){return e=o(e,o(o(i(n,a,r),c),l)),o(t(e,s),n)}function d(e,n,a,i,c,s,l){return e=o(e,o(o(r(n,a,i),c),l)),o(t(e,s),n)}function u(e){var t,o,n="",a="";for(o=0;o<=3;o++)t=e>>>8*o&255,a="0"+t.toString(16),n+=a.substr(a.length-2,2);return n}var m,f,p,h,v,g,_,k,b,y=Array();for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",o=0;o<e.length;o++){var n=e.charCodeAt(o);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e),y=function(e){for(var t,o=e.length,n=o+8,a=(n-n%64)/64,i=16*(a+1),r=Array(i-1),c=0,s=0;s<o;)t=(s-s%4)/4,c=s%4*8,r[t]=r[t]|e.charCodeAt(s)<<c,s++;return t=(s-s%4)/4,c=s%4*8,r[t]=r[t]|128<<c,r[i-2]=o<<3,r[i-1]=o>>>29,r}(e),g=1732584193,_=4023233417,k=2562383102,b=271733878,m=0;m<y.length;m+=16)f=g,p=_,h=k,v=b,g=c(g,_,k,b,y[m+0],7,3614090360),b=c(b,g,_,k,y[m+1],12,3905402710),k=c(k,b,g,_,y[m+2],17,606105819),_=c(_,k,b,g,y[m+3],22,3250441966),g=c(g,_,k,b,y[m+4],7,4118548399),b=c(b,g,_,k,y[m+5],12,1200080426),k=c(k,b,g,_,y[m+6],17,2821735955),_=c(_,k,b,g,y[m+7],22,4249261313),g=c(g,_,k,b,y[m+8],7,1770035416),b=c(b,g,_,k,y[m+9],12,2336552879),k=c(k,b,g,_,y[m+10],17,4294925233),_=c(_,k,b,g,y[m+11],22,2304563134),g=c(g,_,k,b,y[m+12],7,1804603682),b=c(b,g,_,k,y[m+13],12,4254626195),k=c(k,b,g,_,y[m+14],17,2792965006),_=c(_,k,b,g,y[m+15],22,1236535329),g=s(g,_,k,b,y[m+1],5,4129170786),b=s(b,g,_,k,y[m+6],9,3225465664),k=s(k,b,g,_,y[m+11],14,643717713),_=s(_,k,b,g,y[m+0],20,3921069994),g=s(g,_,k,b,y[m+5],5,3593408605),b=s(b,g,_,k,y[m+10],9,38016083),k=s(k,b,g,_,y[m+15],14,3634488961),_=s(_,k,b,g,y[m+4],20,3889429448),g=s(g,_,k,b,y[m+9],5,568446438),b=s(b,g,_,k,y[m+14],9,3275163606),k=s(k,b,g,_,y[m+3],14,4107603335),_=s(_,k,b,g,y[m+8],20,1163531501),g=s(g,_,k,b,y[m+13],5,2850285829),b=s(b,g,_,k,y[m+2],9,4243563512),k=s(k,b,g,_,y[m+7],14,1735328473),_=s(_,k,b,g,y[m+12],20,2368359562),g=l(g,_,k,b,y[m+5],4,4294588738),b=l(b,g,_,k,y[m+8],11,2272392833),k=l(k,b,g,_,y[m+11],16,1839030562),_=l(_,k,b,g,y[m+14],23,4259657740),g=l(g,_,k,b,y[m+1],4,2763975236),b=l(b,g,_,k,y[m+4],11,1272893353),k=l(k,b,g,_,y[m+7],16,4139469664),_=l(_,k,b,g,y[m+10],23,3200236656),g=l(g,_,k,b,y[m+13],4,681279174),b=l(b,g,_,k,y[m+0],11,3936430074),k=l(k,b,g,_,y[m+3],16,3572445317),_=l(_,k,b,g,y[m+6],23,76029189),g=l(g,_,k,b,y[m+9],4,3654602809),b=l(b,g,_,k,y[m+12],11,3873151461),k=l(k,b,g,_,y[m+15],16,530742520),_=l(_,k,b,g,y[m+2],23,3299628645),g=d(g,_,k,b,y[m+0],6,4096336452),b=d(b,g,_,k,y[m+7],10,1126891415),k=d(k,b,g,_,y[m+14],15,2878612391),_=d(_,k,b,g,y[m+5],21,4237533241),g=d(g,_,k,b,y[m+12],6,1700485571),b=d(b,g,_,k,y[m+3],10,2399980690),k=d(k,b,g,_,y[m+10],15,4293915773),_=d(_,k,b,g,y[m+1],21,2240044497),g=d(g,_,k,b,y[m+8],6,1873313359),b=d(b,g,_,k,y[m+15],10,4264355552),k=d(k,b,g,_,y[m+6],15,2734768916),_=d(_,k,b,g,y[m+13],21,1309151649),g=d(g,_,k,b,y[m+4],6,4149444226),b=d(b,g,_,k,y[m+11],10,3174756917),k=d(k,b,g,_,y[m+2],15,718787259),_=d(_,k,b,g,y[m+9],21,3951481745),g=o(g,f),_=o(_,p),k=o(k,h),b=o(b,v);return(u(g)+u(_)+u(k)+u(b)).toLowerCase()}(e)+".jpg?s="+t+"&d=mm"}function _(e,t){return t=t||80,"http://www.gravatar.com/avatar/"+e+".jpg?s="+t+"&d=mm"}function k(){return"True"===e("#auth").data("authed")}function b(t){e("#"+t).modal("show")}function y(t){e("#"+t).modal("hide")}function w(){n.set("redirect_url",o.location.pathname),e("#_modal-login").modal("show")}function C(){e("#_modal-login").modal("hide")}function x(){n.set("redirect_url",o.location.pathname),e("#_modal-newSignup").modal("show")}function I(){e("#_modal-newSignup").modal("hide")}function S(t,o){var n,a=e(t).parent().find("._vote-count");o?(e(t).addClass("voted"),e(t).parent(".-cont-vote").addClass("voted"),e(t).removeClass("not_voted"),n=e(a).text(),e(a).text(parseInt(n)+1)):(e(t).addClass("not_voted"),e(t).removeClass("voted"),e(t).parent(".-cont-vote").removeClass("voted"),n=e(a).text(),e(a).text(parseInt(n)-1))}function D(){var t=[];return e("._manageCheckBox:checked").each(function(o){t.push(e(this).val())}),t}function T(){localStorage.setItem("ideaInfo",JSON.stringify(z))}function B(){return!!localStorage.getItem("ideaInfo")}function O(t){var n,i=e(a.createElement("div"));t.author_id!==o.userInfo.ID?(n='<div style="opacity:0" class="-comment -others _comment"><div class="-col-left"><a href="#" class="-profile-pic">',n+='<img src="'+_(t.email)+'"></a></div>',n+='<div class="-col-right"><span class="-name">'+t.author+"</span>"):(n='<div style="opacity:0" class="-comment -myself _comment _commentNoDelete"><div class="-col-left"><a href="#" class="-profile-pic">',n+='<img src="'+g(o.userInfo.email,80)+'"></a></div>',n+='<div class="-col-right"><span class="-name">You&nbsp;&nbsp;&nbsp;&nbsp;Just now</span>');for(var r=t.comment.split("\n"),c="",s=0;s<r.length;s++)c+=r[s],s!==r.length-1&&(c+="<br>");return c=linkifyStr(c),c=v(c),n+='<p class="-text">'+c+"</p></div>",n+="</div>",i.html(n),i}function A(t){e("._commentNoDelete .-name").append('<a href="#" class="-delete _deleteComment" data-comment-id="'+t+'"></a>'),e("._commentNoDelete").removeClass("_commentNoDelete")}function j(t){e("._comp-comments ._inner-cont").append(t),$=e("._comment:last-child"),e("._comment:last-child").animate({opacity:1},100);var o=e("html,body");o.animate({scrollTop:o.height()},1e3)}function L(){var t=e("._commentCount").text();t++,e("._commentCount").text(t)}function N(){var t=e("._commentCount").text();t--,e("._commentCount").text(t)}function E(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||o.opera),e}function P(t){var o='<span class="keyword"><span class="keyword-wrap"><span class="key-close">X</span>'+t.trim()+"</span></span>",n=e(".twitter-search__input").val()+" ";0===n.trim().length&&(n=""),e(".keyword__wrapper").append(o);var a=new RegExp("\\s*"+t);null==n.match(a)&&e(".twitter-search__input").val(n+t)}function M(e){localStorage.setItem("wantoo_twitter_keywords",e)}var z={};E()||e('[data-toggle="tooltip"]').tooltip(),e(".help-block").css("color","#a7a7a7");var R=p("csrftoken");e(function(){if(o.ideaListVisible?(e("._filterBar").show(),e(".comp-ideaList-default").show(),e(".pagination").show()):e("._showIdeaList").css("display","block"),e.ajaxSetup({beforeSend:function(e,t){h(t.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",R)}}),null!==localStorage.getItem("banner-"+o.userInfo.company)||k()||e("body").addClass("is-bannerVisible"),E()&&e("body").addClass("no-touch"),e("#example").DataTable({iDisplayLength:20,columnDefs:[{targets:"no-sort",orderable:!1}],order:[[5,"desc"]]}),e("#membersTable").DataTable({iDisplayLength:20,columnDefs:[{targets:"no-sort",orderable:!1}],order:[[2,"desc"]]}),e("#categoriesTable").DataTable({iDisplayLength:20,columnDefs:[{targets:"no-sort",orderable:!1}],order:[[0,"desc"]]}),e("#ideasTable").DataTable({iDisplayLength:20,columnDefs:[{targets:"no-sort",orderable:!1}],order:[[4,"asc"]]}),e(".dataTables_filter input").attr("placeholder","Search"),B()){var t=JSON.parse(localStorage.getItem("ideaInfo"));f(t.text,t.category)}e("#comment_input").autogrow({vertical:!0,horizontal:!1}),e("#idea_description").autogrow({vertical:!0,horizontal:!1}),d(e(".form-wantoo"));var n=!1,i=!1;e("._header").hasClass("l-header--isLogoSmall")?(n=!0,e(a).on("scroll",function(){e(this).scrollTop()>50&&!i?(e("._header").addClass("l-header--isShowingShadow"),i=!0):e(this).scrollTop()<50&&i&&(e("._header").removeClass("l-header--isShowingShadow"),i=!1)})):e(a).on("scroll",function(){e(this).scrollTop()>100&&!n?(e("._header").addClass("l-header--isLogoSmall l-header--isShowingShadow"),e("._headerBrand").addClass("isHidden"),n=!0):e(this).scrollTop()<100&&n&&(e("._header").removeClass("l-header--isLogoSmall l-header--isShowingShadow"),e("._headerBrand").removeClass("isHidden"),n=!1)})}),e(".comp-ideaList-search").on("click","._vote",function(t){t.preventDefault();var o=this;if(k()){var n=e(o).data("id"),a=!1;e(o).hasClass("not_voted")?a=!0:e(o).hasClass("voted")&&(a=!1),S(o,a),m(n,a)}else w()}),e("._vote").on("click",function(t){t.preventDefault();var o=this;if(k()){var n=e(o).data("id"),a=!1;e(o).hasClass("not_voted")?(a=!0,(0,i.track)("vote",{source:"idea detail"})):e(o).hasClass("voted")&&(a=!1,(0,i.track)("unvote",{source:"idea detail"})),S(o,a),m(n,a)}else w()}),e("#form-add-idea input, #form-add-idea textarea, #form-add-idea select").focus(function(){k()||w()}),e("._bulkActionDelete").on("click",function(){e("#_modal-bulkActionsDelete").modal("show")}),e("._bulkActionMove").on("click",function(){e("#_modal-bulkActionsMove").modal("show")}),e("._bulkActionsConfirmDelete").on("click",function(){var t=D();t.length>=1?e.ajax({method:"POST",url:"/"+s.company+"/idea/delete/",data:JSON.stringify({ideas:t})}).done(function(e){o.location.reload()}):alert("No ideas selected")}),e("._bulkActionsConfirmMove").on("click",function(){var t=D(),n=e("#_targetCat").val();t.length>=1?e.ajax({method:"POST",url:"/"+s.company+"/idea/move/",data:JSON.stringify({ideas:t,category:n})}).done(function(e){o.location.reload()}):alert("No ideas selected")}),e("._signUpFromModal").on("click",function(){C(),x()}),e("._loginFromModal").on("click",function(){I(),w()});var U=e("._yourIdea"),V=e("._addIdeaButtons"),q=!0,J=!1;U.bind("paste",function(t){t.preventDefault(),q&&((0,i.track)("add idea focused"),e(this).html(""),e(this).focus(),q=!1);var o=(0,c.default)(e(this).text()+t.originalEvent.clipboardData.getData("text")).slice(0,70);e(this).empty().text(o)}),U.on("click keypress",function(t){e("._showIdeaList").hide(),q&&((0,i.track)("add idea focused"),e(this).html(""),e(this).focus(),q=!1),E&&(a.body.scrollTop=e("._yourIdea -highlight").offset.top)}),e("._yourIdea.-highlight").focus(),U.on("focusout",function(){var t=this;e(this).text().length<=0&&(o.ideaListVisible?(e("._filterBar").show(),e(".comp-ideaList-default").show()):e("._showIdeaList").show(),e(t).html("&nbspAdd your idea&nbsp"),q=!0)}),U.on("keydown",function(t){8===t.keyCode||46===t.keyCode||(13===t.keyCode||e(this).text().length>=70)&&t.preventDefault()}),U.on("keyup",function(){e(this).text().trim().length>=3&&!J?(V.css("visibility","visible"),V.css({opacity:1}),J=!0):e(this).text().trim().length<3&&J&&(V.css({opacity:0}),V.css("visibility","hidden"),J=!1)});var F=e("._addIdeaAddButton");F.on("click",function(){var t=this;e(t).hasClass("_step-1")?(z.text=(0,c.default)(e("._yourIdea").text()),o.userInfo.noCategories?k()?(f(z.text,z.category),e(t).attr("disabled",!0),e(t).text("Publishing...")):(T(),w()):(e(t).addClass("_step-2").removeClass("_step-1"),e("._yourIdea-idea").fadeOut(function(){e("._yourIdea-category").fadeIn(),e(t).text("Publish now")}))):e(t).hasClass("_step-2")&&(k()?(f(z.text,z.category),e(t).attr("disabled",!0),e(t).text("Publishing...")):(T(),w()))});var H=e("._catDropdownButton"),X=e("._catDropdownMenu");H.on("click",function(){var t=e(this).position();X.css({left:t.left,top:t.top+57}),X.show()});var G=e("._categorySelect"),Q=e("._categorySelect:first");G.on("click",function(t){t.preventDefault(),Q.removeClass("_active"),e(this).addClass("_active"),Q=e(this);var o=e(this).data("cat");X.hide(),H.text(o),z.category=e(this).data("id")}),e("._addIdeaCancelButton").on("click",function(){F.removeClass("_step-1 _step-2").addClass("_step-1"),U.html("&nbsp;Add your idea&nbsp"),V.css("visibility","hidden"),F.text("Add idea"),q=!0,J=!1,e.event.trigger({type:"liveSearchStarted",results:null,searchSource:"ideaInput"}),e("._allIdeasLink").show(),e.event.trigger({type:"hideSoftLiveSearch"}),e("._yourIdea-category").hide(),e("._yourIdea-idea").show(),Q.removeClass("_active"),e("._categorySelect:first").addClass("_active"),z.category=null,H.text("all ideas")});var Y=e("._ideaDescriptionInput"),Z=!1;Y.on("keyup",function(){e(this).val().length>0&&!Z?(e("._descriptionButtons").fadeIn(),Z=!0):e(this).val().length<1&&Z&&(e("._descriptionButtons").fadeOut(),Z=!1)}),e("._cancelMessage").on("click",function(){e("._comment-text").val(""),e("._comment-text").css("height","40px"),e("._commentButtons").fadeOut(),ee=!1}),e("._ideaDescriptionSave").on("click",function(){u(e(this).data("idea-id"),(0,c.default)(e("._ideaDescriptionInput").val()))}),e("._cancelDescription").on("click",function(){e("._ideaDescriptionInput").val(""),e("._descriptionButtons").fadeOut(),Z=!1}),e("._sendMessage").on("click",function(){e("._commentButtons").hide(),e("._comment-text").css("height","40px"),ee=!1,(0,i.track)("comment added")}),e("._loginButtonNav").on("click",function(){w()}),e("._signupButtonNav").on("click",function(){x()}),e("._closeBanner").on("click",function(){e("body").removeClass("is-bannerVisible"),localStorage.setItem("banner-"+o.userInfo.company,!0)}),e("._joinCommunity").on("click",function(){x()}),e("._selectAll").on("click",function(){e(this).prop("checked")?e("._manageCheckBox").each(function(t,o){e(this).prop("checked",!0)}):e("._manageCheckBox").each(function(t,o){e(this).prop("checked",!1)})}),e("._checkIfChecked").on("click",function(){D().length>0?e("._bulkActionsBtn").prop("disabled",!1):e("._bulkActionsBtn").prop("disabled",!0)}),e("._seeNotifications").on("click",function(){e(this).removeClass("is-unseen")});var K;e("._comp-comments").on("click","._deleteComment",function(){var t=e(this).data("comment-id");return e("._confirmDelete").data("comment-id",t),b("_modal-deleteComment"),K=e(this).parents(".-comment"),!1}),e("._confirmDelete").on("click",function(){y("_modal-deleteComment"),l(e(this).data("comment-id")),K.fadeOut(function(){e(this).remove()})}),e(".form-validate").each(function(t,o){e(o).validate({errorPlacement:function(e,t){}})}),e(".form-validate").on("keyup",function(){var t=this;e(this).valid()?e(t).find('button[type="submit"]').prop("disabled",!1):e(t).find('button[type="submit"]').prop("disabled")||e(t).find('button[type="submit"]').prop("disabled",!0)}),e(".form-validate").on("change",function(){var t=this;e(this).valid()?e(t).find('button[type="submit"]').prop("disabled",!1):e(t).find('button[type="submit"]').prop("disabled")||e(t).find('button[type="submit"]').prop("disabled",!0)}),e("#submit_model_login").click(function(t){t.preventDefault(),e("#id_full_name").val().split(" ").length>=2?e("#signup_form").submit():(e("#msg-full-name").fadeIn(1e3),setTimeout(function(){e("#msg-full-name").fadeOut(2e3)},2e3))});var W=e("._comment-text"),ee=!1;W.on("keyup",function(){e(this).val().length>0&&!ee?(e("._commentButtons").fadeIn(),ee=!0):e(this).val().length<1&&ee&&(e("._commentButtons").fadeOut(),ee=!1)});var $,te=(o.userInfo.ideaID,new Pusher("8d396c4a64f32d61c897",{encrypted:!0}));te.subscribe("idea_"+o.userInfo.ideaID).bind("new_comment",function(t){if(t.author_id===o.userInfo.ID)A(t.id);else{var n=O(t);L(),e("._comp-comments ._inner-cont").append(n),j(n)}}),e("._comment-text").focus(function(){k()||w()}),e("._sendMessage").on("click",function(){if(k()){var t=p("csrftoken"),n=(0,c.default)(e("._comment-text").val());e("._comment-text").val("");var a={};a.comment=n,a.author_id=o.userInfo.ID,a.email=o.userInfo.email;var i=O(a);L(),j(i),n.length>0&&n.replace(/\s/g,"").length&&e.ajax({method:"POST",url:"/api/v1/"+o.userInfo.company+"/ideas/"+o.userInfo.ideaID+"/comments/",data:{comment:n,csrftoken:t}}).done(function(t){e($.find("._deleteComment")).attr("data-comment-id",t.id)})}else w()});var oe=e("._showMobileSearch"),ne=!0;oe.on("click",function(){ne?(e("._searchBar").fadeIn(),ne=!1):(e("._searchBar").fadeOut(),ne=!0)});var ae=e("._showIdeaList");ae.on("click",function(){return ae.fadeOut(function(){o.ideaListVisible=!0,e("._filterBar").show(),e(".comp-ideaList-default").show(),e(".pagination").show()}),!1}),e("._toggleNotificationPreview").on("click",function(){event.stopPropagation(),e.event.trigger({type:"notificationsPreviewToggled"})}),e("._signupOrEmail").on("click",function(){e("#_modal-newSignup").addClass("-showEmail")}),e("#_modal-newSignup").on("hide.bs.modal",function(){e("#_modal-newSignup").removeClass("-showEmail")});var ie=e("._searchInput"),re=!0;if(ie.on("keyup",function(){re&&((0,i.track)("search input focused"),re=!1)}),e("._filterOption").on("click",function(){(0,i.track)("filter option clicked")}),e("._shareOption").on("click",function(){(0,i.track)("share option clicked",{source:"idea detail"})}),e("#login_dashboard").on("click",function(){mixpanel.track("login clicked",{source:"dashboard"})}),e("#signup_dashboard").on("click",function(){mixpanel.track("signup clicked",{source:"dashboard"})}),e("._toggleCharts").on("click",function(){e("._chartToggle").hasClass("is-voteChartVisible")?(e("._chartToggle").removeClass("is-voteChartVisible"),e("._toggle-buttons-cont").removeClass("is-voteChartVisible")):(e("._chartToggle").addClass("is-voteChartVisible"),e("._toggle-buttons-cont").addClass("is-voteChartVisible"))}),e("._confirmIdeaMerge").on("click",function(){e("#mergeIdeaForm").submit()}),e("._addIdeaNavBtn").on("click",function(){e(o).width(),(0,i.track)("add idea in main nav clicked"),o.location.pathname="/"+o.userInfo.company+"/"}),e("._searchNavBtn").on("click",function(){e("._mobileSearch").fadeIn()}),e("._closeMobileSearch").on("click",function(){e("._mobileSearch").fadeOut()}),e("body").bind("click",function(t){e.event.trigger({type:"notificationsClose"})}),e("._bulkActionsConfirmSingleDelete").on("click",function(t){var n=e(t.target).data("ideaid"),a="/"+o.userInfo.company+"/delete-idea/";e.ajax({method:"POST",url:a,data:{idea_id:n}}).done(function(e){o.location="/"+o.userInfo.company+"/ideas/"})}),e("._bulkActionsConfirmDeleteCategory").on("click",function(t){var n=e(t.target).data("catid"),a="/"+o.userInfo.company+"/delete-category/";e.ajax({method:"POST",url:a,data:{category_id:n}}).done(function(e){o.location="/"+o.userInfo.company+"/manage/categories/"})}),e("#sendProEmail").on("click",function(){(0,i.track)("Pro Request Button clicked on modal");var t="/api/v1/"+o.userInfo.company+"/sendmail/";e.ajax({method:"POST",url:t,data:{company:o.userInfo.company,email:o.userInfo.email}}).done(function(e){})}),e("#user-home-page").attr("href","/"+o.userInfo.companyName+"/"),e("#user-invite-others").attr("href","mailto:?subject="+o.userInfo.companyName+" wants your idea. &body="+o.userInfo.companyName+" has launched an Idea Board to hear from people like you.%0D%0A%0D%0AMake your voice heard, and add your ideas here: http://wantoo.io/"+o.userInfo.company),e(".twitter-search__searchbar").on("click",function(t){this.isEqualNode(t.target)&&e(".twitter-search__text-enter").focus()}),e(".twitter-search__text-enter").on("keydown keyup focusout",function(t){var o=e(this).val().length;e(this).attr("size",o>0?o+5:27),"focusout"!=t.type&&("keydown"!=t.type||13!=t.keyCode&&32!=t.keyCode)||0===e(this).val().trim().length||(t.preventDefault(),P(e(this).val()),e(this).val(""),o=0)}),e(".keyword__wrapper").on("click",".key-close",function(){var t=e(this).parents(".keyword"),o=new RegExp("\\s*"+t.text().slice(1));e(".twitter-search__input").val(e(".twitter-search__input").val().replace(o,"")),t.remove()}),e(".twitter-search").submit(function(t){t.preventDefault(),M(e(".twitter-search__input").val()),this.submit()}),e(".twitter-search__input").length){var ce;ce=localStorage.length>0?localStorage.getItem("wantoo_twitter_keywords"):e(".twitter-search__input").val(),ce=ce.split(" "),e(".twitter-search__input").val("");for(var se=0;se<ce.length;se++)ce[se].trim().length>0&&P(ce[se].trim())}}(e,window,document,e.fn.DataTable,window.userInfo)}).call(t,o(155),o(155),o(591),o(155))},155:function(e,t){e.exports=jQuery},158:function(e,t,o){(function($){"use strict";function e(e,t){t?mixpanel.track(e,t):mixpanel.track(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.track=e,$(document).ready(function(){mixpanel.track_links("#activity_link","activity link clicked",{source:"nav"}),mixpanel.track_links("#see_all_ideas","see all ideas clicked")})}).call(t,o(155))},431:function(e,t,o){var n,a,i;!function(o,r){a=[],n=r,i="function"==typeof n?n.apply(t,a):n,!(void 0!==i&&(e.exports=i))}(this,function(){function e(e,c,s){function l(e){p==o?v+=e:c&&p==n&&(g+=e)}function d(){var e,t,o,n="",a=!1;e:for(e=0,t=g.length;e<t;e++)switch(o=g[e].toLowerCase()){case"<":break;case">":break e;case"/":a=!0;break;default:if(o.match(r)){if(a)break e}else a=!0,n+=o}c.indexOf(n)!==-1?v+=g:s&&(v+=s),g=""}var u,m,f,e=e||"",p=o,h=0,v="",g="",_=!1;for("string"==typeof c?c=t(c):Array.isArray(c)||(c=null),u=0,m=e.length;u<m;u++)switch(f=e[u]){case"<":if(_)break;if(" "==e[u+1]){l(f);break}if(p==o){p=n,l(f);break}if(p==n){h++;break}l(f);break;case">":if(h){h--;break}if(_)break;if(p==n){_=p=0,c&&(g+=">",d());break}if(p==a){_=p=0,g="";break}if(p==i&&"-"==e[u-1]&&"-"==e[u-2]){_=p=0,g="";break}l(f);break;case'"':case"'":p==n&&(_==f?_=!1:_||(_=f)),l(f);break;case"!":if(p==n&&"<"==e[u-1]){p=a;break}l(f);break;case"-":if(p==a&&"-"==e[u-1]&&"!"==e[u-2]){p=i;break}l(f);break;case"E":case"e":if(p==a&&"doctype"==e.substr(u-6,7).toLowerCase()){p=n;break}l(f);break;default:l(f)}return v}function t(e){for(var t,o=[];null!==(t=c.exec(e));)o.push(t[1]);return 0!==o.length?o:null}var o=0,n=1,a=2,i=3,r=/\s/,c=/<(\w*)>/g;return e})},591:function(e,t,o){var n,a;/*!
	 * JavaScript Cookie v2.0.4
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */
!function(i){n=i,a="function"==typeof n?n.call(t,o,t,e):n,!(void 0!==a&&(e.exports=a))}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}function t(o){function n(t,a,i){var r;if(arguments.length>1){if(i=e({path:"/"},n.defaults,i),"number"==typeof i.expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*i.expires),i.expires=c}try{r=JSON.stringify(a),/^[\{\[]/.test(r)&&(a=r)}catch(e){}return a=encodeURIComponent(String(a)),a=a.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",a,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}t||(r={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<s.length;d++){var u=s[d].split("="),m=u[0].replace(l,decodeURIComponent),f=u.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{if(f=o&&o(f,m)||f.replace(l,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===m){r=f;break}t||(r[m]=f)}catch(e){}}return r}return n.get=n.set=n,n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,o){n(t,"",e(o,{expires:-1}))},n.withConverter=t,n}return t()})}});